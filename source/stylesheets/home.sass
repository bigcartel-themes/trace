\:root
  --pagination-background: transparent
  --pagination-page-background: var(--primary-text-color)
  --pagination-active-page: var(--primary-text-color)

.home-welcome
  border-radius: var(--border-radius)
  margin: 0 auto 40px
  clip-path: content-box

  > a
    display: block

  .welcome-image
    display: block
    width: 100%

  .welcome-message
    background: var(--welcome-background-color)
    color: var(--welcome-text-color)
    padding: 40px
    text-align: center
    display: flex
    flex-direction: column
    gap: 40px

    @media screen and (max-width: $break-small)
      padding: 20px
      gap: 20px

    .welcome-header
      color: var(--welcome-text-color)
      font-size: 1.5em
      font-weight: normal
      margin: 0 auto
      max-width: 600px
      padding: 0
      text-align: center

      @media screen and (max-width: $break-small)
        font-size: 1.1em
        padding: 20px 0

    a.welcome-button
      display: inline-flex
      margin-left: auto
      margin-right: auto
      max-width: 600px
      min-width: 300px
      padding: 20px 60px
      width: auto

      @media screen and (max-width: $break-small)
        max-width: 100%
        min-width: 0
        width: 100%

  .home-slideshow
    background: var(--welcome-background-color)

    // Hide navigation when autoplay is enabled (Trace requirement)
    &[data-autoplay="true"]
      .splide__arrow
        display: none !important
      .splide__pagination
        display: none !important

    // Show navigation on hover when autoplay is disabled  
    &[data-autoplay="false"]:hover,
    &[data-autoplay="false"]:focus-within
      .splide__arrow:not(:disabled)
        opacity: 0.8

    .splide__slide
      width: 100%

    .slideshow-image
      border-radius: var(--border-radius)
      width: 100%

    .splide__arrow
      width: 2.5em
      height: 2.5em
      z-index: 10
      opacity: 0
      transition: opacity 0.2s
      background: rgba(255, 255, 255, 0.5)
      border: none
      border-radius: var(--border-radius)
      backdrop-filter: blur(4px)
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15)
      // Position arrows to center on the image area, excluding pagination space
      top: calc(50% - 15px)
      transform: translateY(-50%)
      
      &:not(:disabled):hover
        opacity: 1
        background: rgba(255, 255, 255, 0.95)
        
      svg
        fill: #262626
        transition: fill 0.2s

      &:hover svg
        fill: #000

    .splide__pagination
      z-index: 1
      background: var(--pagination-background)
      border-radius: 18px
      display: inline-flex
      position: relative
      margin-top: 8px
      bottom: auto
      align-items: center
      justify-content: center
      transform: translateX(-50%)
      left: 50%
      padding: 4px 8px
      gap: 2px
      right: auto

      li
        display: flex

      .splide__pagination__page
        opacity: 1
        background: none
        border: 1px solid var(--pagination-page-background)
        height: 10px
        width: 10px

        &.is-active
          background: var(--pagination-active-page)
          transform: scale(1.1)

#main 
  .featured-container
    margin: 0 auto 48px auto
    max-width: 1024px

  .featured-title
    margin-bottom: 0

  .featured-message
    text-align: center
    margin: 20px auto 40px auto
    padding: 0 1.5rem

    ol, ul
      text-align: left
      margin: 1em auto
      max-width: 600px
      padding-left: 2.5em

      ol, ul
        margin: 0.5em 0
        padding-left: 1.5em

    ul
      list-style: disc

    ol
      list-style: decimal

    a
      text-decoration: underline
      text-underline-offset: 3px

    img
      display: inline-block
      max-width: 100%
      margin: 0 auto
      padding-bottom: 16px
    
    iframe
      display: block
      margin: 0 auto
      max-width: 100%
      margin-bottom: 16px

// Keyframes for fade-in animation
@keyframes fade-in
  from
    opacity: 0
  to
    opacity: 1

// Styles for collage image fade-in using animation
.collage-image
  opacity: 1
  // Apply animation when NOT loading
  animation: fade-in 0.4s ease-in-out forwards

  // Add a 'loading' state for when the image is not yet ready
  // Start invisible and prevent animation from running initially
  &.loading
    opacity: 0
    animation: none

// Video player theme-specific override
.video-embed-container
  margin-top: 28px
  padding-bottom: 20px